#summary Short and simple setup
#labels QuickStart

= Quick start =

  # Complete step 1, 2 and 3 in the [http://developer.android.com/google/gcm/gs.html GCM:Getting Started] guide.
  # Download jar-files (gcm-client-utils and gcm-common-utils), or add them to your pom.xml.
  # In your main activity, add the following code:
{{{
GCMRegistrar.checkDevice(this);
GCMUtils.checkExtended(this);
GCMUtils.getAndSendRegistrationId(this);
}}}
  # Create a GCMIntentService class and extend GCMUtilsBaseIntentService. Implement the onMessage and onError methods (and if you need custom behavior you can also override the onregistered method).
  # Implement a server that can receive registration ids and send messages. 
Receive registration id example:
{{{
@Override
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException {
  String regIdParam = request.getParameter(GCMUtilsConstants.PARAM_KEY_REGID);
  String unregIdParam = request.getParameter(GCMUtilsConstants.PARAM_KEY_UNREGID);
  if (regIdParam != null) {
    logger.info("Received registration id: {}", regIdParam);
  }
}
}}}

Send msg example:
{{{
Sender sender = new Sender(apiKey);
Message message = new Message.Builder().addData(GCMUtilsConstants.DATA_KEY_MSG, msg).build();
Result result = sender.send(message, regId, 0);
logger.info("Push message result: {}", result);
}}}